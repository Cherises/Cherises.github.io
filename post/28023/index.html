<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Docker使用入门 | Leo's Digital Genesis</title><meta name="author" content="Leonardo"><meta name="copyright" content="Leonardo"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Docker 命令详细使用教程 一、Docker 概述 Docker 是一个开源的应用容器引擎，让开发者可以打包应用以及依赖包到一个可移植的镜像中，然后发布到任何流行的 Linux 或 Windows 机器上。  二、镜像管理命令 1. 搜索镜像 1 2 3 4 5 6   # 搜索 Docker Hub 上的镜像 docker search nginx  # 过滤搜索结果 docker sear">
<meta property="og:type" content="article">
<meta property="og:title" content="Docker使用入门">
<meta property="og:url" content="http://example.com/post/28023/index.html">
<meta property="og:site_name" content="Leo&#39;s Digital Genesis">
<meta property="og:description" content="Docker 命令详细使用教程 一、Docker 概述 Docker 是一个开源的应用容器引擎，让开发者可以打包应用以及依赖包到一个可移植的镜像中，然后发布到任何流行的 Linux 或 Windows 机器上。  二、镜像管理命令 1. 搜索镜像 1 2 3 4 5 6   # 搜索 Docker Hub 上的镜像 docker search nginx  # 过滤搜索结果 docker sear">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/img/actor-1.jpg">
<meta property="article:published_time" content="2025-09-22T15:16:24.000Z">
<meta property="article:modified_time" content="2025-10-06T10:32:29.651Z">
<meta property="article:author" content="Leonardo">
<meta property="article:tag" content="Docker">
<meta property="article:tag" content="教程">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/actor-1.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Docker使用入门",
  "url": "http://example.com/post/28023/",
  "image": "http://example.com/img/actor-1.jpg",
  "datePublished": "2025-09-22T15:16:24.000Z",
  "dateModified": "2025-10-06T10:32:29.651Z",
  "author": [
    {
      "@type": "Person",
      "name": "Leonardo",
      "url": "https://github.com/Cherises/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.ico"><link rel="canonical" href="http://example.com/post/28023/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":5,"unescape":false,"languages":{"hits_empty":"No results found for: ${query}","hits_stats":"${hits} articles found"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"You have switched to Traditional Chinese","cht_to_chs":"You have switched to Simplified Chinese","day_to_night":"You have switched to Dark Mode","night_to_day":"You have switched to Light Mode","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"top-center"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Docker使用入门',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/admonition.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font/css/materialdesignicons.min.css"><style> /* 调整全局APlayer位置 */ #global-aplayer.aplayer-fixed { z-index: 9999;           /* 保证在Live2D之上或之下 */ } </style><meta name="generator" content="Hexo 7.3.0"></head><body><script>window.paceOptions = {
  restartOnPushState: false
}

btf.addGlobalFn('pjaxSend', () => {
  Pace.restart()
}, 'pace_restart')

</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/actor-1.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">75</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">100</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">19</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 词云</span></a></div><div class="menus_item"><a class="site-page" href="/Wujie/"><i class="fa-fw fas fa-globe"></i><span> 物界</span></a></div><div class="menus_item"><a class="site-page" href="/Music/"><i class="fa-fw fas fa-music"></i><span> 音乐馆</span></a></div><div class="menus_item"><a class="site-page" href="/About/"><i class="fa-fw fas fa-user"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://raw.githubusercontent.com/Cherises/Blog-Resource/main/photos/banner-top.jpeg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Leo's Digital Genesis</span></a><a class="nav-page-title" href="/"><span class="site-name">Docker使用入门</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  Back to Home</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 词云</span></a></div><div class="menus_item"><a class="site-page" href="/Wujie/"><i class="fa-fw fas fa-globe"></i><span> 物界</span></a></div><div class="menus_item"><a class="site-page" href="/Music/"><i class="fa-fw fas fa-music"></i><span> 音乐馆</span></a></div><div class="menus_item"><a class="site-page" href="/About/"><i class="fa-fw fas fa-user"></i><span> About</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Docker使用入门</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2025-09-22T15:16:24.000Z" title="Created 2025-09-22 15:16:24">2025-09-22</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2025-10-06T10:32:29.651Z" title="Updated 2025-10-06 10:32:29">2025-10-06</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/tech/">tech</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word Count:</span><span class="word-count">3.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading Time:</span><span>13mins</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="Docker-命令详细使用教程"><a href="#Docker-命令详细使用教程" class="headerlink" title="Docker 命令详细使用教程"></a>Docker 命令详细使用教程</h1><h2 id="一、Docker-概述"><a href="#一、Docker-概述" class="headerlink" title="一、Docker 概述"></a>一、Docker 概述</h2><p>Docker 是一个开源的应用容器引擎，让开发者可以打包应用以及依赖包到一个可移植的镜像中，然后发布到任何流行的 Linux 或 Windows 机器上。</p>
<h2 id="二、镜像管理命令"><a href="#二、镜像管理命令" class="headerlink" title="二、镜像管理命令"></a>二、镜像管理命令</h2><h3 id="1-搜索镜像"><a href="#1-搜索镜像" class="headerlink" title="1. 搜索镜像"></a>1. 搜索镜像</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 搜索 Docker Hub 上的镜像</span></span><br><span class="line">docker search nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># 过滤搜索结果</span></span><br><span class="line">docker search --filter stars=1000 nginx</span><br><span class="line">docker search --filter is-official=<span class="literal">true</span> nginx</span><br></pre></td></tr></table></figure>

<h3 id="2-拉取镜像"><a href="#2-拉取镜像" class="headerlink" title="2. 拉取镜像"></a>2. 拉取镜像</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 拉取最新版本镜像</span></span><br><span class="line">docker pull nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># 拉取指定版本镜像</span></span><br><span class="line">docker pull nginx:1.21</span><br><span class="line"></span><br><span class="line"><span class="comment"># 拉取指定平台的镜像</span></span><br><span class="line">docker pull --platform linux/amd64 nginx</span><br></pre></td></tr></table></figure>

<h3 id="3-列出镜像"><a href="#3-列出镜像" class="headerlink" title="3. 列出镜像"></a>3. 列出镜像</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 列出所有镜像</span></span><br><span class="line">docker images</span><br><span class="line"></span><br><span class="line"><span class="comment"># 列出所有镜像（包括中间层镜像）</span></span><br><span class="line">docker images -a</span><br><span class="line"></span><br><span class="line"><span class="comment"># 只显示镜像ID</span></span><br><span class="line">docker images -q</span><br><span class="line"></span><br><span class="line"><span class="comment"># 格式化输出</span></span><br><span class="line">docker images --format <span class="string">&quot;table &#123;&#123;.ID&#125;&#125;\t&#123;&#123;.Repository&#125;&#125;\t&#123;&#123;.Tag&#125;&#125;&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="4-删除镜像"><a href="#4-删除镜像" class="headerlink" title="4. 删除镜像"></a>4. 删除镜像</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 删除指定镜像</span></span><br><span class="line">docker rmi nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># 强制删除镜像</span></span><br><span class="line">docker rmi -f nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除所有镜像</span></span><br><span class="line">docker rmi $(docker images -q)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除悬空镜像（无标签）</span></span><br><span class="line">docker image prune</span><br></pre></td></tr></table></figure>

<h3 id="5-镜像历史"><a href="#5-镜像历史" class="headerlink" title="5. 镜像历史"></a>5. 镜像历史</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看镜像构建历史</span></span><br><span class="line">docker <span class="built_in">history</span> nginx</span><br></pre></td></tr></table></figure>

<h3 id="6-镜像标签"><a href="#6-镜像标签" class="headerlink" title="6. 镜像标签"></a>6. 镜像标签</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 给镜像打标签</span></span><br><span class="line">docker tag nginx my-nginx:v1</span><br></pre></td></tr></table></figure>

<h3 id="7-保存和加载镜像"><a href="#7-保存和加载镜像" class="headerlink" title="7. 保存和加载镜像"></a>7. 保存和加载镜像</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 保存镜像到文件</span></span><br><span class="line">docker save -o nginx.tar nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># 从文件加载镜像</span></span><br><span class="line">docker load -i nginx.tar</span><br><span class="line"></span><br><span class="line"><span class="comment"># 保存多个镜像</span></span><br><span class="line">docker save -o images.tar nginx redis</span><br></pre></td></tr></table></figure>

<h2 id="三、容器管理命令"><a href="#三、容器管理命令" class="headerlink" title="三、容器管理命令"></a>三、容器管理命令</h2><h3 id="1-运行容器"><a href="#1-运行容器" class="headerlink" title="1. 运行容器"></a>1. 运行容器</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 运行容器（前台模式）</span></span><br><span class="line">docker run nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># 运行容器（后台模式）</span></span><br><span class="line">docker run -d nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># 运行容器并指定名称</span></span><br><span class="line">docker run --name my-nginx -d nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># 运行容器并映射端口</span></span><br><span class="line">docker run -p 8080:80 -d nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># 运行容器并挂载数据卷</span></span><br><span class="line">docker run -v /host/path:/container/path -d nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># 运行容器并设置环境变量</span></span><br><span class="line">docker run -e MY_VAR=value -d nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># 运行容器并设置重启策略</span></span><br><span class="line">docker run --restart always -d nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># 运行容器并限制资源</span></span><br><span class="line">docker run -m 512m --cpus=1 -d nginx</span><br></pre></td></tr></table></figure>

<h3 id="2-列出容器"><a href="#2-列出容器" class="headerlink" title="2. 列出容器"></a>2. 列出容器</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 列出运行中的容器</span></span><br><span class="line">docker ps</span><br><span class="line"></span><br><span class="line"><span class="comment"># 列出所有容器（包括停止的）</span></span><br><span class="line">docker ps -a</span><br><span class="line"></span><br><span class="line"><span class="comment"># 列出最近创建的容器</span></span><br><span class="line">docker ps -l</span><br><span class="line"></span><br><span class="line"><span class="comment"># 列出容器大小</span></span><br><span class="line">docker ps -s</span><br></pre></td></tr></table></figure>

<h3 id="3-启动-停止-重启容器"><a href="#3-启动-停止-重启容器" class="headerlink" title="3. 启动&#x2F;停止&#x2F;重启容器"></a>3. 启动&#x2F;停止&#x2F;重启容器</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启动已停止的容器</span></span><br><span class="line">docker start container_name</span><br><span class="line"></span><br><span class="line"><span class="comment"># 停止运行中的容器</span></span><br><span class="line">docker stop container_name</span><br><span class="line"></span><br><span class="line"><span class="comment"># 强制停止容器</span></span><br><span class="line">docker <span class="built_in">kill</span> container_name</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重启容器</span></span><br><span class="line">docker restart container_name</span><br><span class="line"></span><br><span class="line"><span class="comment"># 暂停容器</span></span><br><span class="line">docker pause container_name</span><br><span class="line"></span><br><span class="line"><span class="comment"># 恢复暂停的容器</span></span><br><span class="line">docker unpause container_name</span><br></pre></td></tr></table></figure>

<h3 id="4-进入容器"><a href="#4-进入容器" class="headerlink" title="4. 进入容器"></a>4. 进入容器</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 进入运行中的容器（创建新的终端）</span></span><br><span class="line">docker <span class="built_in">exec</span> -it container_name /bin/bash</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在容器中执行命令</span></span><br><span class="line">docker <span class="built_in">exec</span> container_name <span class="built_in">ls</span> /app</span><br><span class="line"></span><br><span class="line"><span class="comment"># 进入容器（使用现有终端）</span></span><br><span class="line">docker attach container_name</span><br></pre></td></tr></table></figure>

<h3 id="5-查看容器信息"><a href="#5-查看容器信息" class="headerlink" title="5. 查看容器信息"></a>5. 查看容器信息</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看容器日志</span></span><br><span class="line">docker logs container_name</span><br><span class="line"></span><br><span class="line"><span class="comment"># 实时查看日志</span></span><br><span class="line">docker logs -f container_name</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看最近10条日志</span></span><br><span class="line">docker logs --<span class="built_in">tail</span> 10 container_name</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看容器详细信息</span></span><br><span class="line">docker inspect container_name</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看容器进程</span></span><br><span class="line">docker top container_name</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看容器资源使用情况</span></span><br><span class="line">docker stats container_name</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看所有容器资源使用</span></span><br><span class="line">docker stats --all</span><br></pre></td></tr></table></figure>

<h3 id="6-文件操作"><a href="#6-文件操作" class="headerlink" title="6. 文件操作"></a>6. 文件操作</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 从容器复制文件到主机</span></span><br><span class="line">docker <span class="built_in">cp</span> container_name:/path/to/file /host/path</span><br><span class="line"></span><br><span class="line"><span class="comment"># 从主机复制文件到容器</span></span><br><span class="line">docker <span class="built_in">cp</span> /host/path container_name:/path/to/file</span><br></pre></td></tr></table></figure>

<h3 id="7-删除容器"><a href="#7-删除容器" class="headerlink" title="7. 删除容器"></a>7. 删除容器</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 删除已停止的容器</span></span><br><span class="line">docker <span class="built_in">rm</span> container_name</span><br><span class="line"></span><br><span class="line"><span class="comment"># 强制删除容器（包括运行中的）</span></span><br><span class="line">docker <span class="built_in">rm</span> -f container_name</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除所有已停止的容器</span></span><br><span class="line">docker container prune</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除所有容器</span></span><br><span class="line">docker <span class="built_in">rm</span> -f $(docker ps -aq)</span><br></pre></td></tr></table></figure>

<h2 id="四、网络管理命令"><a href="#四、网络管理命令" class="headerlink" title="四、网络管理命令"></a>四、网络管理命令</h2><h3 id="1-网络操作"><a href="#1-网络操作" class="headerlink" title="1. 网络操作"></a>1. 网络操作</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 列出网络</span></span><br><span class="line">docker network <span class="built_in">ls</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建网络</span></span><br><span class="line">docker network create my-network</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看网络详情</span></span><br><span class="line">docker network inspect my-network</span><br><span class="line"></span><br><span class="line"><span class="comment"># 连接容器到网络</span></span><br><span class="line">docker network connect my-network container_name</span><br><span class="line"></span><br><span class="line"><span class="comment"># 断开容器网络连接</span></span><br><span class="line">docker network disconnect my-network container_name</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除网络</span></span><br><span class="line">docker network <span class="built_in">rm</span> my-network</span><br></pre></td></tr></table></figure>

<h3 id="2-端口映射"><a href="#2-端口映射" class="headerlink" title="2. 端口映射"></a>2. 端口映射</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看端口映射</span></span><br><span class="line">docker port container_name</span><br></pre></td></tr></table></figure>

<h2 id="五、数据卷管理命令"><a href="#五、数据卷管理命令" class="headerlink" title="五、数据卷管理命令"></a>五、数据卷管理命令</h2><h3 id="1-数据卷操作"><a href="#1-数据卷操作" class="headerlink" title="1. 数据卷操作"></a>1. 数据卷操作</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建数据卷</span></span><br><span class="line">docker volume create my-volume</span><br><span class="line"></span><br><span class="line"><span class="comment"># 列出数据卷</span></span><br><span class="line">docker volume <span class="built_in">ls</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看数据卷详情</span></span><br><span class="line">docker volume inspect my-volume</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除数据卷</span></span><br><span class="line">docker volume <span class="built_in">rm</span> my-volume</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除未使用的数据卷</span></span><br><span class="line">docker volume prune</span><br></pre></td></tr></table></figure>

<h2 id="六、Docker-Compose-命令"><a href="#六、Docker-Compose-命令" class="headerlink" title="六、Docker Compose 命令"></a>六、Docker Compose 命令</h2><h3 id="1-基本命令"><a href="#1-基本命令" class="headerlink" title="1. 基本命令"></a>1. 基本命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启动服务</span></span><br><span class="line">docker-compose up</span><br><span class="line"></span><br><span class="line"><span class="comment"># 后台启动服务</span></span><br><span class="line">docker-compose up -d</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用指定文件</span></span><br><span class="line">docker-compose -f docker-compose.prod.yml up</span><br><span class="line"></span><br><span class="line"><span class="comment"># 停止服务</span></span><br><span class="line">docker-compose down</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看服务状态</span></span><br><span class="line">docker-compose ps</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看服务日志</span></span><br><span class="line">docker-compose logs</span><br><span class="line"></span><br><span class="line"><span class="comment"># 实时查看日志</span></span><br><span class="line">docker-compose logs -f</span><br><span class="line"></span><br><span class="line"><span class="comment"># 构建服务镜像</span></span><br><span class="line">docker-compose build</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重启服务</span></span><br><span class="line">docker-compose restart</span><br><span class="line"></span><br><span class="line"><span class="comment"># 缩放服务实例</span></span><br><span class="line">docker-compose up --scale web=3</span><br></pre></td></tr></table></figure>

<h2 id="七、系统管理命令"><a href="#七、系统管理命令" class="headerlink" title="七、系统管理命令"></a>七、系统管理命令</h2><h3 id="1-系统信息"><a href="#1-系统信息" class="headerlink" title="1. 系统信息"></a>1. 系统信息</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看 Docker 系统信息</span></span><br><span class="line">docker info</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看 Docker 版本</span></span><br><span class="line">docker version</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看磁盘使用情况</span></span><br><span class="line">docker system <span class="built_in">df</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看详细磁盘使用</span></span><br><span class="line">docker system <span class="built_in">df</span> -v</span><br></pre></td></tr></table></figure>

<h3 id="2-清理资源"><a href="#2-清理资源" class="headerlink" title="2. 清理资源"></a>2. 清理资源</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 删除所有未使用的资源</span></span><br><span class="line">docker system prune</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除所有资源（包括镜像、容器、网络等）</span></span><br><span class="line">docker system prune -a</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除所有未使用的镜像</span></span><br><span class="line">docker image prune -a</span><br></pre></td></tr></table></figure>

<h2 id="八、构建镜像命令"><a href="#八、构建镜像命令" class="headerlink" title="八、构建镜像命令"></a>八、构建镜像命令</h2><h3 id="1-Dockerfile-构建"><a href="#1-Dockerfile-构建" class="headerlink" title="1. Dockerfile 构建"></a>1. Dockerfile 构建</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 构建镜像</span></span><br><span class="line">docker build -t my-image:latest .</span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定 Dockerfile 路径</span></span><br><span class="line">docker build -f Dockerfile.dev -t my-image:dev .</span><br><span class="line"></span><br><span class="line"><span class="comment"># 构建时不使用缓存</span></span><br><span class="line">docker build --no-cache -t my-image .</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置构建参数</span></span><br><span class="line">docker build --build-arg APP_VERSION=1.0 -t my-image .</span><br></pre></td></tr></table></figure>

<h2 id="九、实战示例"><a href="#九、实战示例" class="headerlink" title="九、实战示例"></a>九、实战示例</h2><h3 id="1-运行-WordPress"><a href="#1-运行-WordPress" class="headerlink" title="1. 运行 WordPress"></a>1. 运行 WordPress</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建网络</span></span><br><span class="line">docker network create wordpress-network</span><br><span class="line"></span><br><span class="line"><span class="comment"># 运行 MySQL</span></span><br><span class="line">docker run -d \</span><br><span class="line">  --name mysql \</span><br><span class="line">  --network wordpress-network \</span><br><span class="line">  -e MYSQL_ROOT_PASSWORD=rootpass \</span><br><span class="line">  -e MYSQL_DATABASE=wordpress \</span><br><span class="line">  -e MYSQL_USER=wordpress \</span><br><span class="line">  -e MYSQL_PASSWORD=wordpresspass \</span><br><span class="line">  mysql:5.7</span><br><span class="line"></span><br><span class="line"><span class="comment"># 运行 WordPress</span></span><br><span class="line">docker run -d \</span><br><span class="line">  --name wordpress \</span><br><span class="line">  --network wordpress-network \</span><br><span class="line">  -p 8080:80 \</span><br><span class="line">  -e WORDPRESS_DB_HOST=mysql \</span><br><span class="line">  -e WORDPRESS_DB_USER=wordpress \</span><br><span class="line">  -e WORDPRESS_DB_PASSWORD=wordpresspass \</span><br><span class="line">  -e WORDPRESS_DB_NAME=wordpress \</span><br><span class="line">  wordpress</span><br></pre></td></tr></table></figure>

<h3 id="2-使用-Docker-Compose"><a href="#2-使用-Docker-Compose" class="headerlink" title="2. 使用 Docker Compose"></a>2. 使用 Docker Compose</h3><p>创建 <code>docker-compose.yml</code>：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3&#x27;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">web:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:alpine</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;80:80&quot;</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./html:/usr/share/nginx/html</span></span><br><span class="line">  <span class="attr">db:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">mysql:5.7</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">MYSQL_ROOT_PASSWORD:</span> <span class="string">example</span></span><br></pre></td></tr></table></figure>

<p>运行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose up -d</span><br></pre></td></tr></table></figure>

<h2 id="十、常用命令总结"><a href="#十、常用命令总结" class="headerlink" title="十、常用命令总结"></a>十、常用命令总结</h2><table>
<thead>
<tr>
<th>命令</th>
<th>描述</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td><code>docker run</code></td>
<td>运行容器</td>
<td><code>docker run -d nginx</code></td>
</tr>
<tr>
<td><code>docker ps</code></td>
<td>列出容器</td>
<td><code>docker ps -a</code></td>
</tr>
<tr>
<td><code>docker stop</code></td>
<td>停止容器</td>
<td><code>docker stop container</code></td>
</tr>
<tr>
<td><code>docker rm</code></td>
<td>删除容器</td>
<td><code>docker rm container</code></td>
</tr>
<tr>
<td><code>docker images</code></td>
<td>列出镜像</td>
<td><code>docker images</code></td>
</tr>
<tr>
<td><code>docker rmi</code></td>
<td>删除镜像</td>
<td><code>docker rmi nginx</code></td>
</tr>
<tr>
<td><code>docker pull</code></td>
<td>拉取镜像</td>
<td><code>docker pull nginx</code></td>
</tr>
<tr>
<td><code>docker exec</code></td>
<td>执行命令</td>
<td><code>docker exec -it container bash</code></td>
</tr>
<tr>
<td><code>docker logs</code></td>
<td>查看日志</td>
<td><code>docker logs container</code></td>
</tr>
<tr>
<td><code>docker build</code></td>
<td>构建镜像</td>
<td><code>docker build -t myimage .</code></td>
</tr>
</tbody></table>
<h2 id="十一、注意事项"><a href="#十一、注意事项" class="headerlink" title="十一、注意事项"></a>十一、注意事项</h2><ol>
<li><strong>权限问题</strong>：某些命令可能需要 sudo 权限或在 Docker 用户组中</li>
<li><strong>数据持久化</strong>：重要数据要使用数据卷或绑定挂载</li>
<li><strong>资源限制</strong>：生产环境要设置适当的内存和 CPU 限制</li>
<li><strong>网络安全</strong>：注意端口暴露和网络配置的安全性</li>
<li><strong>镜像来源</strong>：尽量使用官方镜像或可信来源的镜像</li>
</ol>
<p>这个教程涵盖了 Docker 的大部分常用命令，建议在实际环境中多加练习以熟悉这些命令的使用。</p>
<hr>
<p>我们以一个典型的Web项目为例，该项目包含：</p>
<ul>
<li><strong>Nginx</strong>：作为反向代理和静态文件服务器</li>
<li><strong>Spring Boot Jar包</strong>：作为后端应用（需要JDK运行环境）</li>
<li><strong>MySQL</strong>：作为数据库</li>
<li><strong>文件目录</strong>：用于存储上传的文件和配置文件</li>
</ul>
<p>我将详细讲解如何为每个组件编写Dockerfile，以及如何使用<code>docker run</code>命令和<code>docker-compose</code>来运行整个系统。</p>
<hr>
<h2 id="一、项目结构规划"><a href="#一、项目结构规划" class="headerlink" title="一、项目结构规划"></a>一、项目结构规划</h2><p>假设项目目录结构如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">/my-app</span><br><span class="line">  ├── docker-compose.yml          # 编排所有服务</span><br><span class="line">  ├── nginx/</span><br><span class="line">  │   ├── Dockerfile              # Nginx的Dockerfile</span><br><span class="line">  │   ├── nginx.conf              # Nginx配置文件</span><br><span class="line">  │   └── conf.d/</span><br><span class="line">  │       └── app.conf            # 站点配置</span><br><span class="line">  ├── backend/</span><br><span class="line">  │   ├── Dockerfile              # 后端应用的Dockerfile</span><br><span class="line">  │   ├── app.jar                 # Spring Boot打包的jar文件</span><br><span class="line">  │   └── config/</span><br><span class="line">  │       └── application.yml     # 应用配置文件</span><br><span class="line">  ├── mysql/</span><br><span class="line">  │   └── init.sql                # 数据库初始化脚本</span><br><span class="line">  └── data/                       # 挂载的数据卷目录</span><br><span class="line">      ├── uploads/                # 文件上传目录</span><br><span class="line">      └── mysql/                  # MySQL数据目录</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="二、详细Dockerfile编写"><a href="#二、详细Dockerfile编写" class="headerlink" title="二、详细Dockerfile编写"></a>二、详细Dockerfile编写</h2><h3 id="1-后端应用（Spring-Boot-JDK）的Dockerfile"><a href="#1-后端应用（Spring-Boot-JDK）的Dockerfile" class="headerlink" title="1. 后端应用（Spring Boot + JDK）的Dockerfile"></a>1. 后端应用（Spring Boot + JDK）的Dockerfile</h3><p><strong><code>/my-app/backend/Dockerfile</code></strong>:</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 第一阶段：构建阶段（如果需要从源码构建则启用，这里假设已有jar包）</span></span><br><span class="line"><span class="comment"># FROM maven:3.8.4-openjdk-17 AS builder</span></span><br><span class="line"><span class="comment"># WORKDIR /app</span></span><br><span class="line"><span class="comment"># COPY pom.xml .</span></span><br><span class="line"><span class="comment"># COPY src ./src</span></span><br><span class="line"><span class="comment"># RUN mvn clean package -DskipTests</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 第二阶段：运行阶段</span></span><br><span class="line"><span class="keyword">FROM</span> openjdk:<span class="number">17</span>-jdk-slim</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置维护者信息（可选）</span></span><br><span class="line"><span class="keyword">LABEL</span><span class="language-bash"> maintainer=<span class="string">&quot;your-email@example.com&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置时区</span></span><br><span class="line"><span class="keyword">ENV</span> TZ=Asia/Shanghai</span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">ln</span> -snf /usr/share/zoneinfo/<span class="variable">$TZ</span> /etc/localtime &amp;&amp; <span class="built_in">echo</span> <span class="variable">$TZ</span> &gt; /etc/timezone</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建应用目录</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> /app</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 复制jar包到容器中</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> app.jar app.jar</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 复制配置文件（可选，也可以通过挂载方式）</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> config/ /app/config/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建非root用户运行应用（安全最佳实践）</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> groupadd -r appgroup &amp;&amp; useradd -r -g appgroup appuser</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">chown</span> -R appuser:appgroup /app</span></span><br><span class="line"><span class="keyword">USER</span> appuser</span><br><span class="line"></span><br><span class="line"><span class="comment"># 暴露端口</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">8080</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置JVM参数</span></span><br><span class="line"><span class="keyword">ENV</span> JAVA_OPTS=<span class="string">&quot;-Xms512m -Xmx1024m -Dspring.profiles.active=prod&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 启动应用</span></span><br><span class="line"><span class="keyword">ENTRYPOINT</span><span class="language-bash"> [<span class="string">&quot;sh&quot;</span>, <span class="string">&quot;-c&quot;</span>, <span class="string">&quot;java <span class="variable">$JAVA_OPTS</span> -jar app.jar&quot;</span>]</span></span><br></pre></td></tr></table></figure>

<p><strong>关键指令解析</strong>：</p>
<ul>
<li><code>FROM</code>：基于官方JDK镜像</li>
<li><code>WORKDIR</code>：设置工作目录</li>
<li><code>COPY</code>：复制文件到镜像中</li>
<li><code>RUN</code>：执行命令（创建用户、设置权限）</li>
<li><code>ENV</code>：设置环境变量</li>
<li><code>EXPOSE</code>：声明暴露端口</li>
<li><code>ENTRYPOINT</code>：容器启动时执行的命令</li>
</ul>
<hr>
<h3 id="2-Nginx的Dockerfile"><a href="#2-Nginx的Dockerfile" class="headerlink" title="2. Nginx的Dockerfile"></a>2. Nginx的Dockerfile</h3><p><strong><code>/my-app/nginx/Dockerfile</code></strong>:</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用官方Nginx镜像</span></span><br><span class="line"><span class="keyword">FROM</span> nginx:<span class="number">1.23</span>-alpine</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除默认配置文件</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">rm</span> /etc/nginx/conf.d/default.conf</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 复制自定义配置文件</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> nginx.conf /etc/nginx/nginx.conf</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> conf.d/app.conf /etc/nginx/conf.d/app.conf</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建日志目录（确保权限正确）</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">mkdir</span> -p /var/log/nginx &amp;&amp; \</span></span><br><span class="line"><span class="language-bash">    <span class="built_in">chown</span> -R nginx:nginx /var/log/nginx</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 暴露端口</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">80</span> <span class="number">443</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用nginx用户运行（安全最佳实践）</span></span><br><span class="line"><span class="keyword">USER</span> nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># 启动Nginx（保持前台运行）</span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> [<span class="string">&quot;nginx&quot;</span>, <span class="string">&quot;-g&quot;</span>, <span class="string">&quot;daemon off;&quot;</span>]</span></span><br></pre></td></tr></table></figure>

<p><strong>配套的Nginx配置文件</strong>：</p>
<p><strong><code>/my-app/nginx/conf.d/app.conf</code></strong>:</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">upstream</span> backend &#123;</span><br><span class="line">    <span class="attribute">server</span> backend:<span class="number">8080</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> localhost;</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 静态文件服务</span></span><br><span class="line">    <span class="section">location</span> /static/ &#123;</span><br><span class="line">        <span class="attribute">alias</span> /data/uploads/;</span><br><span class="line">        <span class="attribute">expires</span> <span class="number">30d</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># API反向代理</span></span><br><span class="line">    <span class="section">location</span> /api/ &#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://backend;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 根路径重定向</span></span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://backend;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="三、使用Docker命令运行"><a href="#三、使用Docker命令运行" class="headerlink" title="三、使用Docker命令运行"></a>三、使用Docker命令运行</h2><h3 id="1-构建镜像"><a href="#1-构建镜像" class="headerlink" title="1. 构建镜像"></a>1. 构建镜像</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 构建后端镜像</span></span><br><span class="line">docker build -t my-app-backend:1.0.0 ./backend/</span><br><span class="line"></span><br><span class="line"><span class="comment"># 构建Nginx镜像</span></span><br><span class="line">docker build -t my-app-nginx:1.0.0 ./nginx/</span><br></pre></td></tr></table></figure>

<h3 id="2-创建网络"><a href="#2-创建网络" class="headerlink" title="2. 创建网络"></a>2. 创建网络</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker network create app-network</span><br></pre></td></tr></table></figure>

<h3 id="3-运行MySQL容器"><a href="#3-运行MySQL容器" class="headerlink" title="3. 运行MySQL容器"></a>3. 运行MySQL容器</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">docker run -d \</span><br><span class="line">  --name mysql \</span><br><span class="line">  --network app-network \</span><br><span class="line">  -e MYSQL_ROOT_PASSWORD=rootpassword123 \</span><br><span class="line">  -e MYSQL_DATABASE=myapp \</span><br><span class="line">  -e MYSQL_USER=myappuser \</span><br><span class="line">  -e MYSQL_PASSWORD=myapppass123 \</span><br><span class="line">  -v /my-app/data/mysql:/var/lib/mysql \</span><br><span class="line">  -v /my-app/mysql/init.sql:/docker-entrypoint-initdb.d/init.sql \</span><br><span class="line">  mysql:8.0</span><br></pre></td></tr></table></figure>

<p><strong>参数详解</strong>：</p>
<ul>
<li><code>-d</code>：后台运行</li>
<li><code>--name</code>：容器名称</li>
<li><code>--network</code>：加入的网络</li>
<li><code>-e</code>：环境变量（数据库配置）</li>
<li><code>-v</code>：挂载数据卷（数据持久化和初始化脚本）</li>
</ul>
<h3 id="4-运行后端应用"><a href="#4-运行后端应用" class="headerlink" title="4. 运行后端应用"></a>4. 运行后端应用</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">docker run -d \</span><br><span class="line">  --name backend \</span><br><span class="line">  --network app-network \</span><br><span class="line">  -p 8080:8080 \</span><br><span class="line">  -e SPRING_DATASOURCE_URL=jdbc:mysql://mysql:3306/myapp \</span><br><span class="line">  -e SPRING_DATASOURCE_USERNAME=myappuser \</span><br><span class="line">  -e SPRING_DATASOURCE_PASSWORD=myapppass123 \</span><br><span class="line">  -v /my-app/data/uploads:/app/uploads \</span><br><span class="line">  my-app-backend:1.0.0</span><br></pre></td></tr></table></figure>

<h3 id="5-运行Nginx"><a href="#5-运行Nginx" class="headerlink" title="5. 运行Nginx"></a>5. 运行Nginx</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">docker run -d \</span><br><span class="line">  --name nginx \</span><br><span class="line">  --network app-network \</span><br><span class="line">  -p 80:80 \</span><br><span class="line">  -p 443:443 \</span><br><span class="line">  -v /my-app/data/uploads:/data/uploads \</span><br><span class="line">  my-app-nginx:1.0.0</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="四、使用Docker-Compose编排（推荐）"><a href="#四、使用Docker-Compose编排（推荐）" class="headerlink" title="四、使用Docker Compose编排（推荐）"></a>四、使用Docker Compose编排（推荐）</h2><p><strong><code>/my-app/docker-compose.yml</code></strong>:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3.8&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="comment"># MySQL服务</span></span><br><span class="line">  <span class="attr">mysql:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">mysql:8.0</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">mysql</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">MYSQL_ROOT_PASSWORD:</span> <span class="string">rootpassword123</span></span><br><span class="line">      <span class="attr">MYSQL_DATABASE:</span> <span class="string">myapp</span></span><br><span class="line">      <span class="attr">MYSQL_USER:</span> <span class="string">myappuser</span></span><br><span class="line">      <span class="attr">MYSQL_PASSWORD:</span> <span class="string">myapppass123</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./data/mysql:/var/lib/mysql</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./mysql/init.sql:/docker-entrypoint-initdb.d/init.sql</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">app-network</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># 后端应用服务</span></span><br><span class="line">  <span class="attr">backend:</span></span><br><span class="line">    <span class="attr">build:</span> <span class="string">./backend</span>  <span class="comment"># 使用Dockerfile构建</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">backend</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">SPRING_DATASOURCE_URL:</span> <span class="string">jdbc:mysql://mysql:3306/myapp</span></span><br><span class="line">      <span class="attr">SPRING_DATASOURCE_USERNAME:</span> <span class="string">myappuser</span></span><br><span class="line">      <span class="attr">SPRING_DATASOURCE_PASSWORD:</span> <span class="string">myapppass123</span></span><br><span class="line">      <span class="attr">JAVA_OPTS:</span> <span class="string">&quot;-Xms512m -Xmx1024m&quot;</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./data/uploads:/app/uploads</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">app-network</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">mysql</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Nginx服务</span></span><br><span class="line">  <span class="attr">nginx:</span></span><br><span class="line">    <span class="attr">build:</span> <span class="string">./nginx</span>  <span class="comment"># 使用Dockerfile构建</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;80:80&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;443:443&quot;</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./data/uploads:/data/uploads</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">app-network</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">backend</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 自定义网络</span></span><br><span class="line"><span class="attr">networks:</span></span><br><span class="line">  <span class="attr">app-network:</span></span><br><span class="line">    <span class="attr">driver:</span> <span class="string">bridge</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 数据卷定义（可选）</span></span><br><span class="line"><span class="attr">volumes:</span></span><br><span class="line">  <span class="attr">mysql-data:</span></span><br><span class="line">    <span class="attr">driver:</span> <span class="string">local</span></span><br><span class="line">  <span class="attr">uploads:</span></span><br><span class="line">    <span class="attr">driver:</span> <span class="string">local</span></span><br></pre></td></tr></table></figure>

<p><strong>运行命令</strong>：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启动所有服务（后台模式）</span></span><br><span class="line">docker-compose up -d</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看服务状态</span></span><br><span class="line">docker-compose ps</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看日志</span></span><br><span class="line">docker-compose logs -f</span><br><span class="line"></span><br><span class="line"><span class="comment"># 停止服务</span></span><br><span class="line">docker-compose down</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重新构建镜像并启动</span></span><br><span class="line">docker-compose up -d --build</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="五、重要参数和参考文档"><a href="#五、重要参数和参考文档" class="headerlink" title="五、重要参数和参考文档"></a>五、重要参数和参考文档</h2><h3 id="1-Docker-run-常用参数参考"><a href="#1-Docker-run-常用参数参考" class="headerlink" title="1. Docker run 常用参数参考"></a>1. Docker run 常用参数参考</h3><table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td><code>-d</code></td>
<td>后台运行</td>
<td><code>-d</code></td>
</tr>
<tr>
<td><code>-p</code></td>
<td>端口映射</td>
<td><code>-p 80:80</code></td>
</tr>
<tr>
<td><code>-v</code></td>
<td>数据卷挂载</td>
<td><code>-v /host:/container</code></td>
</tr>
<tr>
<td><code>-e</code></td>
<td>环境变量</td>
<td><code>-e KEY=VALUE</code></td>
</tr>
<tr>
<td><code>--name</code></td>
<td>容器名称</td>
<td><code>--name my-container</code></td>
</tr>
<tr>
<td><code>--network</code></td>
<td>加入网络</td>
<td><code>--network my-network</code></td>
</tr>
<tr>
<td><code>--restart</code></td>
<td>重启策略</td>
<td><code>--restart unless-stopped</code></td>
</tr>
<tr>
<td><code>-m</code></td>
<td>内存限制</td>
<td><code>-m 512m</code></td>
</tr>
<tr>
<td><code>--cpus</code></td>
<td>CPU限制</td>
<td><code>--cpus 1.5</code></td>
</tr>
</tbody></table>
<h3 id="2-官方文档参考"><a href="#2-官方文档参考" class="headerlink" title="2. 官方文档参考"></a>2. 官方文档参考</h3><ul>
<li><strong>Dockerfile参考</strong>：<a target="_blank" rel="noopener" href="https://docs.docker.com/engine/reference/builder/">https://docs.docker.com/engine/reference/builder/</a></li>
<li><strong>Docker run参考</strong>：<a target="_blank" rel="noopener" href="https://docs.docker.com/engine/reference/run/">https://docs.docker.com/engine/reference/run/</a></li>
<li><strong>Docker Compose参考</strong>：<a target="_blank" rel="noopener" href="https://docs.docker.com/compose/compose-file/">https://docs.docker.com/compose/compose-file/</a></li>
</ul>
<h3 id="3-最佳实践建议"><a href="#3-最佳实践建议" class="headerlink" title="3. 最佳实践建议"></a>3. 最佳实践建议</h3><ol>
<li><strong>使用<code>.dockerignore</code></strong>：避免将不必要的文件复制到镜像中</li>
<li><strong>多阶段构建</strong>：减少最终镜像大小</li>
<li><strong>使用特定标签</strong>：避免使用<code>latest</code>标签</li>
<li><strong>非root用户</strong>：提高安全性</li>
<li><strong>健康检查</strong>：添加健康检查机制</li>
<li><strong>资源限制</strong>：生产环境必须设置资源限制</li>
</ol>
<p>这样的架构和配置可以满足大多数Web应用的需求，并且具有良好的可维护性和扩展性。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a target="_blank" rel="noopener" href="https://github.com/Cherises/">Leonardo</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="http://example.com/post/28023/">http://example.com/post/28023/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles on this blog are licensed under <a target="_blank" rel="noopener" href="https://github.com/Cherises/">Leonardo</a> unless otherwise stated.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Docker/">Docker</a><a class="post-meta__tags" href="/tags/%E6%95%99%E7%A8%8B/">教程</a></div><div class="post-share"><div class="social-share" data-image="/img/actor-1.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/post/27220/" title="74套名校毕业论文答辩ppt模板"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">Previous</div><div class="info-item-2">74套名校毕业论文答辩ppt模板</div></div><div class="info-2"><div class="info-item-1">上海交通大学母校介绍PPT模板上海交通大学母校介绍PPT模板.pptx 上海建桥学院简介招生宣传PPT模板上海建桥学院简介招生宣传PPT模板.pptx 东莞理工学院论文答辩PPT模板东莞理工学院论文答辩PPT模板.pptx 中北大学学术论文答辩PPT模板中北大学学术论文答辩PPT模板.pptx 中国石油大学学术风论文答辩PPT模板中国石油大学学术风论文答辩PPT模板.pptx 中国石油大学文学系学术答辩PPT模板中国石油大学文学系学术答辩PPT模板.pptx 九江职业技术学院论文答辩PPT模板九江职业技术学院论文答辩PPT模板.pptx 云南艺术学院-青蓝系清新学术风通用PPT模板云南艺术学院-青蓝系清新学术风通用PPT模板.pptx 北京航空航天大学论文答辩PPT模板北京航空航天大学论文答辩PPT模板.pptx 华中农业大学学术答辩PPT模板华中农业大学学术答辩PPT模板.pptx 华中科技大学论文答辩通用PPT模板华中科技大学论文答辩通用PPT模板.pptx 华北水利水电大学蓝色简约风毕设论文答辩PPT模板华北水利水电大学蓝色简约风毕设论文答辩PPT模板.pptx 南昌大学毕...</div></div></div></a><a class="pagination-related" href="/post/60363/" title="人性破局"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">人性破局</div></div><div class="info-2"><div class="info-item-1">人性破局 无人性，不商业  目录 为什么要学习人性 人性是什么 认知、思维、人性的区别是什么 人性和心理的区别是什么 了解人性你将会有怎样的改变? 不了解人性，你永远长不大 不成熟人的8大表现，你知道都有哪些吗 从幼稚到成熟，你需要狠一点 温室里培养不出高人，成熟只在磨难之后 8个特征让你明白什么是高手 世界就是被人设计好的游戏 世界有两条规则，可惜大部分人只了解一条 高手都是两套规则两手抓 君子不成器，做事和做局可差太多了 商业的底层逻辑就是利用人性的弱点 财富到底跟什么相关? 想要赚钱，千万不要盲从 想赚钱你得转变思维方式 想要赚取财富，这三个思维方式不可不了解 富人的3大秘密，你一定要知道 智慧先贤眼中的人性是怎样的? 人性的复杂让人难以看清 人性为什么这么复杂? 永远不要考验人性 不要预设人性，我们必须放弃对人性的幻想 人之初，性本善还是性本恶? 人之本性，趋利避害 7条道理和现象，说清人性的善恶  前言大家好，我是大南洋的创始人孙玉华，今天跟大家分享的是我最新研发的“人性思维”课程，人性的真相到底是什么？到底如何认识人性？历史上的任何一个朝代都有两套知识：一套是显性的，...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/post/19292/" title="Python虚拟环境使用指南"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-10-04</div><div class="info-item-2">Python虚拟环境使用指南</div></div><div class="info-2"><div class="info-item-1"> 关于 Python 虚拟环境（venv）在 Ubuntu 24 中的完整使用教程，包括建立、激活、使用、安装包、退出、删除等全过程。   📘 Ubuntu 24 下 Python 虚拟环境使用教程（venv）1. 检查 Python 环境Ubuntu 24 默认自带 Python 3.x，你可以先确认版本： 1python3 --version  如果没有 venv 模块，请先安装： 12sudo apt updatesudo apt install python3-venv -y   2. 创建虚拟环境选择一个项目目录，比如 myproject： 12mkdir ~/myprojectcd ~/myproject  创建虚拟环境（命名为 venv，你也可以换成其他名字）： 1python3 -m venv venv  执行完后，项目目录会多一个 venv/ 文件夹，里面包含隔离的 Python 解释器和库。  3. 激活虚拟环境激活后，命令行前面会出现 (venv) 提示： 1source venv/bin/activate  此时终端显示类似： 1(venv) furin...</div></div></div></a><a class="pagination-related" href="/post/38129/" title="含Vue3知识点的几个页面"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-10-02</div><div class="info-item-2">含Vue3知识点的几个页面</div></div><div class="info-2"><div class="info-item-1">含 Vue 3 核心知识点的几个页面示例发布日期： 2025-10-02标签： Vue3, 教程, CompositionAPI 我们将使用 &lt;script setup&gt; 格式来构建一个包含三个主要页面的小型应用，每个页面都侧重于 Vue 的核心知识点。 为了避免引入复杂的路由库，本示例在 App.vue 中实现了简单的状态管理和条件渲染来模拟页面切换，让你可以专注于 Vue 3 本身的特性。 我们将创建以下五个文件，并展示其核心代码：  App.vue: 应用程序的入口和导航。 DataBinding.vue: 演示响应式数据（ref, reactive, computed, watch）。 ChildComponent.vue: 一个可重用组件，用于演示组件通信。 ComponentsAndSlots.vue: 父组件，演示组件通信（props, emits）和插槽（slots）。 LifecycleAndDirectives.vue: 演示生命周期钩子（onMounted）和内置指令（v-if, v-for, v-bind, v-model）。  1. App....</div></div></div></a><a class="pagination-related" href="/post/28874/" title="Hexo-admonition-new 插件使用示例"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-10-06</div><div class="info-item-2">Hexo-admonition-new 插件使用示例</div></div><div class="info-2"><div class="info-item-1"> hexo new –path tutorial&#x2F;Hexo-admonition-new-插件使用示例 “Hexo-admonition-new 插件使用示例”  Hexo-admonition-new 插件使用示例anote 类型（替代旧 note）普通提示这是一个普通提示信息块，用于一般性说明。   info 类型信息提示这是一个信息提示块，提供额外的参考信息。   todo 类型待办事项列出需要完成的任务。   warning 类型警告信息用于提醒用户注意某些事项。   attention 类型注意强调需要特别关注的内容。   caution 类型谨慎操作提醒用户小心操作。   error 类型错误提示显示操作失败或错误信息。   failure 类型操作失败表示某项操作未能成功。   missing 类型内容缺失表示某些内容或文件缺失。   fail 类型验证失败表示检查或验证未通过。   danger &#x2F; bug 类型危险操作表示危险操作或高风险内容。   程序 Bug用于标注程序错误或缺陷。   success 类型操作成功表示操作成功或任务完成。...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/actor-1.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Leonardo</div><div class="author-info-description">Focus on thinking, imagination, reasoning, truth-seeking, and pragmatism</div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">75</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">100</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">19</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Cherises/"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/xxxxx" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:zhaozhinet@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Docker-%E5%91%BD%E4%BB%A4%E8%AF%A6%E7%BB%86%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B"><span class="toc-number">1.</span> <span class="toc-text">Docker 命令详细使用教程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81Docker-%E6%A6%82%E8%BF%B0"><span class="toc-number">1.1.</span> <span class="toc-text">一、Docker 概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E9%95%9C%E5%83%8F%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">1.2.</span> <span class="toc-text">二、镜像管理命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%90%9C%E7%B4%A2%E9%95%9C%E5%83%8F"><span class="toc-number">1.2.1.</span> <span class="toc-text">1. 搜索镜像</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%8B%89%E5%8F%96%E9%95%9C%E5%83%8F"><span class="toc-number">1.2.2.</span> <span class="toc-text">2. 拉取镜像</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%88%97%E5%87%BA%E9%95%9C%E5%83%8F"><span class="toc-number">1.2.3.</span> <span class="toc-text">3. 列出镜像</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%88%A0%E9%99%A4%E9%95%9C%E5%83%8F"><span class="toc-number">1.2.4.</span> <span class="toc-text">4. 删除镜像</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E9%95%9C%E5%83%8F%E5%8E%86%E5%8F%B2"><span class="toc-number">1.2.5.</span> <span class="toc-text">5. 镜像历史</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E9%95%9C%E5%83%8F%E6%A0%87%E7%AD%BE"><span class="toc-number">1.2.6.</span> <span class="toc-text">6. 镜像标签</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E4%BF%9D%E5%AD%98%E5%92%8C%E5%8A%A0%E8%BD%BD%E9%95%9C%E5%83%8F"><span class="toc-number">1.2.7.</span> <span class="toc-text">7. 保存和加载镜像</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%AE%B9%E5%99%A8%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">1.3.</span> <span class="toc-text">三、容器管理命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E8%BF%90%E8%A1%8C%E5%AE%B9%E5%99%A8"><span class="toc-number">1.3.1.</span> <span class="toc-text">1. 运行容器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%88%97%E5%87%BA%E5%AE%B9%E5%99%A8"><span class="toc-number">1.3.2.</span> <span class="toc-text">2. 列出容器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%90%AF%E5%8A%A8-%E5%81%9C%E6%AD%A2-%E9%87%8D%E5%90%AF%E5%AE%B9%E5%99%A8"><span class="toc-number">1.3.3.</span> <span class="toc-text">3. 启动&#x2F;停止&#x2F;重启容器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E8%BF%9B%E5%85%A5%E5%AE%B9%E5%99%A8"><span class="toc-number">1.3.4.</span> <span class="toc-text">4. 进入容器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E6%9F%A5%E7%9C%8B%E5%AE%B9%E5%99%A8%E4%BF%A1%E6%81%AF"><span class="toc-number">1.3.5.</span> <span class="toc-text">5. 查看容器信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C"><span class="toc-number">1.3.6.</span> <span class="toc-text">6. 文件操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E5%88%A0%E9%99%A4%E5%AE%B9%E5%99%A8"><span class="toc-number">1.3.7.</span> <span class="toc-text">7. 删除容器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">1.4.</span> <span class="toc-text">四、网络管理命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%BD%91%E7%BB%9C%E6%93%8D%E4%BD%9C"><span class="toc-number">1.4.1.</span> <span class="toc-text">1. 网络操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%AB%AF%E5%8F%A3%E6%98%A0%E5%B0%84"><span class="toc-number">1.4.2.</span> <span class="toc-text">2. 端口映射</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E6%95%B0%E6%8D%AE%E5%8D%B7%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">1.5.</span> <span class="toc-text">五、数据卷管理命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%95%B0%E6%8D%AE%E5%8D%B7%E6%93%8D%E4%BD%9C"><span class="toc-number">1.5.1.</span> <span class="toc-text">1. 数据卷操作</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%E3%80%81Docker-Compose-%E5%91%BD%E4%BB%A4"><span class="toc-number">1.6.</span> <span class="toc-text">六、Docker Compose 命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4"><span class="toc-number">1.6.1.</span> <span class="toc-text">1. 基本命令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83%E3%80%81%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">1.7.</span> <span class="toc-text">七、系统管理命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF"><span class="toc-number">1.7.1.</span> <span class="toc-text">1. 系统信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%B8%85%E7%90%86%E8%B5%84%E6%BA%90"><span class="toc-number">1.7.2.</span> <span class="toc-text">2. 清理资源</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AB%E3%80%81%E6%9E%84%E5%BB%BA%E9%95%9C%E5%83%8F%E5%91%BD%E4%BB%A4"><span class="toc-number">1.8.</span> <span class="toc-text">八、构建镜像命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Dockerfile-%E6%9E%84%E5%BB%BA"><span class="toc-number">1.8.1.</span> <span class="toc-text">1. Dockerfile 构建</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%9D%E3%80%81%E5%AE%9E%E6%88%98%E7%A4%BA%E4%BE%8B"><span class="toc-number">1.9.</span> <span class="toc-text">九、实战示例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E8%BF%90%E8%A1%8C-WordPress"><span class="toc-number">1.9.1.</span> <span class="toc-text">1. 运行 WordPress</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E4%BD%BF%E7%94%A8-Docker-Compose"><span class="toc-number">1.9.2.</span> <span class="toc-text">2. 使用 Docker Compose</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E3%80%81%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E6%80%BB%E7%BB%93"><span class="toc-number">1.10.</span> <span class="toc-text">十、常用命令总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E4%B8%80%E3%80%81%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">1.11.</span> <span class="toc-text">十一、注意事项</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E8%A7%84%E5%88%92"><span class="toc-number">1.12.</span> <span class="toc-text">一、项目结构规划</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E8%AF%A6%E7%BB%86Dockerfile%E7%BC%96%E5%86%99"><span class="toc-number">1.13.</span> <span class="toc-text">二、详细Dockerfile编写</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%90%8E%E7%AB%AF%E5%BA%94%E7%94%A8%EF%BC%88Spring-Boot-JDK%EF%BC%89%E7%9A%84Dockerfile"><span class="toc-number">1.13.1.</span> <span class="toc-text">1. 后端应用（Spring Boot + JDK）的Dockerfile</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Nginx%E7%9A%84Dockerfile"><span class="toc-number">1.13.2.</span> <span class="toc-text">2. Nginx的Dockerfile</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E4%BD%BF%E7%94%A8Docker%E5%91%BD%E4%BB%A4%E8%BF%90%E8%A1%8C"><span class="toc-number">1.14.</span> <span class="toc-text">三、使用Docker命令运行</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%9E%84%E5%BB%BA%E9%95%9C%E5%83%8F"><span class="toc-number">1.14.1.</span> <span class="toc-text">1. 构建镜像</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%88%9B%E5%BB%BA%E7%BD%91%E7%BB%9C"><span class="toc-number">1.14.2.</span> <span class="toc-text">2. 创建网络</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E8%BF%90%E8%A1%8CMySQL%E5%AE%B9%E5%99%A8"><span class="toc-number">1.14.3.</span> <span class="toc-text">3. 运行MySQL容器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E8%BF%90%E8%A1%8C%E5%90%8E%E7%AB%AF%E5%BA%94%E7%94%A8"><span class="toc-number">1.14.4.</span> <span class="toc-text">4. 运行后端应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E8%BF%90%E8%A1%8CNginx"><span class="toc-number">1.14.5.</span> <span class="toc-text">5. 运行Nginx</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E4%BD%BF%E7%94%A8Docker-Compose%E7%BC%96%E6%8E%92%EF%BC%88%E6%8E%A8%E8%8D%90%EF%BC%89"><span class="toc-number">1.15.</span> <span class="toc-text">四、使用Docker Compose编排（推荐）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E9%87%8D%E8%A6%81%E5%8F%82%E6%95%B0%E5%92%8C%E5%8F%82%E8%80%83%E6%96%87%E6%A1%A3"><span class="toc-number">1.16.</span> <span class="toc-text">五、重要参数和参考文档</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Docker-run-%E5%B8%B8%E7%94%A8%E5%8F%82%E6%95%B0%E5%8F%82%E8%80%83"><span class="toc-number">1.16.1.</span> <span class="toc-text">1. Docker run 常用参数参考</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E5%8F%82%E8%80%83"><span class="toc-number">1.16.2.</span> <span class="toc-text">2. 官方文档参考</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E5%BB%BA%E8%AE%AE"><span class="toc-number">1.16.3.</span> <span class="toc-text">3. 最佳实践建议</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/28874/" title="Hexo-admonition-new 插件使用示例">Hexo-admonition-new 插件使用示例</a><time datetime="2025-10-06T18:41:58.000Z" title="Created 2025-10-06 18:41:58">2025-10-06</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/31197/" title="博客分类规则文档">博客分类规则文档</a><time datetime="2025-10-06T17:43:36.000Z" title="Created 2025-10-06 17:43:36">2025-10-06</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/36136/" title="本地知识库系统 — 分析与可行性研究">本地知识库系统 — 分析与可行性研究</a><time datetime="2025-10-06T16:34:11.000Z" title="Created 2025-10-06 16:34:11">2025-10-06</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/16802/" title="食物与生命力：饮食、精神与人的生理节律之间的深层关系">食物与生命力：饮食、精神与人的生理节律之间的深层关系</a><time datetime="2025-10-04T13:31:48.000Z" title="Created 2025-10-04 13:31:48">2025-10-04</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/44875/" title="人类日常精神状态的变化规律与持续高效学习策略研究">人类日常精神状态的变化规律与持续高效学习策略研究</a><time datetime="2025-10-04T13:24:43.000Z" title="Created 2025-10-04 13:24:43">2025-10-04</time></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2021 - 2025 By Leonardo</span><span class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.4.3</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"></div><div id="global-aplayer" class="aplayer no-destroy" data-fixed="true"></div><script> fetch("/playlist.json") .then(r => r.json()) .then(list => { window.globalAPlayer = new APlayer({ container: document.getElementById("global-aplayer"), fixed: true, mutex: true, autoplay: false, audio: list }); }) .catch(e => console.error("load playlist failed", e)); </script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="true" data-click="false"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="false"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script>(() => {
  const destroyAplayer = () => {
    if (window.aplayers) {
      for (let i = 0; i < window.aplayers.length; i++) {
        if (!window.aplayers[i].options.fixed) {
          window.aplayers[i].destroy()
        }
      }
    }
  }

  const runMetingJS = () => {
    typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()
  }

  btf.addGlobalFn('pjaxSend', destroyAplayer, 'destroyAplayer')
  btf.addGlobalFn('pjaxComplete', loadMeting, 'runMetingJS')
})()</script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>(() => {
  const pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => fn())
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      const usePjax = true
      false
        ? (usePjax ? pjax.loadUrl('/404.html') : window.location.href = '/404.html')
        : window.location.href = e.request.responseURL
    }
  })
})()</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章🔍" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div><!-- hexo injector body_end start --><script data-pjax src="https://unpkg.com/oh-my-live2d"></script><script>const oml2d = OML2D.loadOml2d({menus:{items:[]},libraryUrls:{"complete":"https://registry.npmmirror.com/oh-my-live2d/latest/files/lib/complete.js","cubism2":"https://registry.npmmirror.com/oh-my-live2d/latest/files/lib/cubism2.js","cubism5":"https://cdn.jsdelivr.net/npm/live2dcubismcore@5.1.0/live2dcubismcore.min.js"},mobileDisplay:false,models:[{"path":"/models/bilibili-22/index.json","mobilePosition":[-10,23],"mobileScale":0.1,"mobileStageStyle":{"width":180,"height":166},"motionPreloadStrategy":"IDLE","position":[-10,35],"scale":0.15,"stageStyle":{"width":300,"height":280}}],parentElement:document.body,primaryColor:"var(--btn-bg)",sayHello:false,tips:{style: {"width":230,"height":120,"left":"calc(50% - 20px)","top":"-100px"},mobileStyle: {"width":180,"height":80,"left":"calc(50% - 30px)","top":"-100px"},idleTips:{interval:15000,message:["你好呀~😊","欢迎来到我的博客~o(*￣▽￣*)ブ","今天过得怎么样呀？(●'◡'●)","发现一个认真阅读的小可爱！","要一起学习吗？(✧ω✧)","今天也是充满希望的一天！☀️","今天有什么计划吗？🎉","嘿嘿，被我发现了哦~😏","代码写累了？休息一下吧~💻","你知道吗？你笑起来很好看！😄","要不要听个笑话？😜","悄悄告诉你个秘密...🤫","哇！你翻到这里了，好厉害！👏","今天有遇到什么有趣的事吗？🎈","保持好奇心是很棒的事情呢！🔍","阅读让世界更美好~📚","嘿！别戳我啦，好痒~>_<~","天气转凉了，记得添件衣服哦~🍂","周末宅家还是出门玩呢？🏠🌳","发现一枚小可爱！(ฅ>ω<*ฅ)","要喝杯水休息一下吗？💧","你的支持是我最大的动力！💪","嘿嘿，我又看到你了哦~👀","今天学习/工作辛苦了！✨","保持微笑，生活会更美好~😊","你知道吗？猫有230根骨头哦！🐱","周末就是要放松一下呢~🛋️","嘿！朋友，最近怎么样？🤗","坚持阅读的人超有魅力！📖","要不要和我一起发呆？(～￣▽￣)～","雨天最适合窝在家里了~☔","你专注的样子真好看！❤️","新的一天，新的开始！🌄","偶尔放松一下也没关系哦~🎵","嘿嘿，猜猜我在想什么？🤔","保持好心情最重要啦！💖","周末有空常来玩呀~🎊","你今天的表现很棒哦！⭐","感谢你的到来和陪伴！🙏","哇，你又来看我啦！(*^▽^*)","今天有什么新鲜事分享吗？🌟","要记得按时吃饭哦~🍚","嘿嘿，偷偷告诉你个小秘密...🤐","你真是我最忠实的读者呢！❤️","窗外阳光真好，要不要出去走走？☀️","深夜党注意休息时间啦~🌙","新技能get了吗？📚","今天也要保持好心情哦！💕","猜猜我今天换了什么发型？💇","周末打算去哪里玩呢？🎡","嘿嘿，我又学会了一个新动作！💃","保持好奇心是很好的品质呢！🔍","要喝杯咖啡提神吗？☕","你真是越来越厉害了呢！👑","雨天最适合在家看书了~📖","今天遇到什么开心的事了吗？🎉","保持微笑，好运自然来~😊","要不要听我唱首歌？🎵","冬天来了，记得多穿点~❄️","发现一枚认真学习的学霸！🏆","周末宅家也是一种享受呢~🏠","你今天看起来特别精神！✨","要适当让眼睛休息一下哦~👀","嘿嘿，我又发现你了！🔎","今天学到了什么新知识？🧠","保持积极心态很重要呢！💪","要不要一起看星星？⭐","春天来了，花儿都开了呢~🌷","你真是我的超级粉丝！🥰","深夜写作灵感爆发期？📝","今天也要努力加油哦！🔥","周末愉快，放松一下~🎶","嘿嘿，我又长高了一点！📏","保持阅读习惯很棒呢！📚","要记得经常活动一下身体~🏃","你今天特别好看哦！💖","夏天到了，注意防暑~🍉","发现一个专注的小可爱！🐰","今天有什么目标要完成？🎯","保持热情，追逐梦想~🌈","要不要一起喝茶聊天？🍵","秋天收获的季节到了~🍂","你真是我最喜欢的访客！🤗","清晨是最佳学习时间哦~🌅","今天也要保持微笑！😄","周末计划去哪里探险？🗺️","嘿嘿，我又变聪明了一点！🧠","保持学习态度很优秀呢！🎓","要记得多补充水分哦~💦","你今天格外有魅力！💫","冬天暖洋洋的被窝最舒服~🛏️","发现一个坚持不懈的战士！⚔️","今天有什么新发现？🔭","保持耐心，好事会发生~🕰️","要不要一起做运动？🏀","春天播种希望的季节~🌱","你真是我的灵感源泉！💡","午后小憩一会儿也不错~😴","今天也要充满活力！⚡","周末享受慢生活时光~🐌","嘿嘿，我又学会新技能！🎨","保持思考习惯很厉害呢！🤔","要记得保护眼睛健康~👓","你今天气场全开！👑","夏天海边吹风最惬意~🌊","发现一个创造力爆棚的天才！🎭","今天有什么奇思妙想？💭","保持乐观，困难会过去~🌤️","要不要一起看场电影？🎬","秋天登高望远好时节~🏔️","你真是我的幸运星！🍀","傍晚散步放松心情~🌇","今天也要相信自己！🌟","周末家庭团聚时光~👨‍👩‍👧‍👦","嘿嘿，我又进步了一点！📈","保持求知欲很棒呢！🔬","要记得保持正确坐姿~💺","你今天闪闪发光！✨","冬天热腾腾的火锅最棒~🍲","发现一个勇于挑战的勇者！🛡️","今天有什么新突破？🚀","保持善良，世界更美好~🌍","要不要一起做美食？🍳","春天野餐郊游正当时~🧺","你真是我的能量来源！🔋","午夜灵感最丰富时刻~🌌","今天也要勇往直前！🏃‍♂️","周末朋友聚会欢乐多~🎊","嘿嘿，我又成长了一些！🌱","保持探索精神很赞呢！🗺️","要记得深呼吸放松~🌬️","你今天魅力无限！💫","夏天冰镇西瓜最解暑~🍉","发现一个善于思考的智者！📚","今天有什么新创意？🎨","保持真诚，友谊长久~🤝","要不要一起看日落？🌅","秋天收获成果的时刻~🍎","你真是我的开心果！😄"]}}});</script><!-- hexo injector body_end end --></body></html>